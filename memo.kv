# File name: memo.kv
#:kivy 1.9.0
#:import memo memo
#:include menubar.kv	
#:include desk.kv			
#:include statusbar.kv

<Memo>:
    name: 'memo'
    desk: _desk
    menubar: _menu_bar
    BoxLayout:
        orientation: 'vertical'
        BoxLayout:
			orientation: 'horizontal'
			id: _head
			size_hint: 1,None
			height: 50
			RelativeLayout:
				id: _logo
				size_hint: None,1
				width: 110
				Label:
					text: "MEMO..."
			RelativeLayout:
				id: _title_bar
				size_hint: None,1
				width: root.width - _logo.width - _setting.width
				Label:
					text: 'note' if root.desk.filechooser.rootpath == 'note' else 'picture'
					canvas.before:
						Color:
							rgba: root.titlebar_red, root.titlebar_green, root.titlebar_blue, 1
						Rectangle:
							pos: self.pos
							size: self.size
            RelativeLayout:
				id: _setting
				size_hint: None,1
				width: 80
				Button:
					text: "setting"
					on_release: root.setting()
        
        RelativeLayout:
            AnchorLayout:
                anchor_x: 'left'
                anchor_y: 'top'
                MenuBar:
                    id: _menu_bar
                    desk: _desk
                    memo: root
                    size_hint: None,None
                    width:110
                    height: root.height - _head.height
        
            AnchorLayout:
                anchor_x: 'right'
                anchor_y: 'top'
                Desk:
                    id: _desk
                    status_bar: _status_bar
    	    		menubar:_menu_bar
                    memo: root
                    size_hint: None, None
                    width: root.width - _menu_bar.width
                    height: root.height - _status_bar.height
                    canvas.before:
						Color:
                            rgba: .5, .5, .5, 1
                        Rectangle:
							#source: './picture/sun.jpg'
                            pos: self.pos
                            size: self.size
                 
            AnchorLayout:
                anchor_x: 'right'
                anchor_y: 'bottom'
                StatusBar:
                    id: _status_bar
                    size_hint: None, None
                    height: 30
                    width: root.width - _menu_bar.width
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Rectangle:
                            pos: self.pos
                            size: self.size

<Setting>
	BoxLayout:
        orientation: "vertical"
        spacing: 10
		Label:
			size_hint: None, None
			height: 30
			text: "Theme"
		ColorPicker:
			color: root.color
			on_color: root.set_color(self.color)	
		Label:
			size_hint: None, None
			height: 30
			text: "Text Size"
		Label:
			size_hint: None, None
			height: 30
			text: "Wallpaper"
        BoxLayout:
            orientation: "horizontal"
            size_hint_y: None
            height: 40
			Button:
                text: "?"
                #on_release: root.import_file(import_selecter.selection[0])
			Button:
                text: "Close"
                on_release: root.close()
